---
import EventsTimeLine from "./sidebarComponents/eventsTimeLine.astro";
import MembersList from "./sidebarComponents/membersList.astro";
import AppItem from "./sidebarComponents/appItem.astro";
import { getLastApps } from "./helpers/getLastApps";
import { getFeaturedApps } from "./helpers/getFeaturedApps";
import PromoImage from "./sidebarComponents/promoImage.astro";

const lastApps = await getLastApps();
const featuredApps = await getFeaturedApps();
---

<div>
  <a href="https://podcast.cucoders.dev" target="_blank">
    <img src="/assets/img/promo/podcast_ads.webp" class="mb-8 w-full rounded-lg border dark:border-gray-700 border-gray-200" />
  </a>
  <EventsTimeLine />
  <div class="border-solid dark:border-gray-700 border-b-[1px] mb-3 pb-3">
    <div class="font-medium text-gray-800 dark:text-gray-100 mb-4">Ãšltimos Lanzamientos</div>
    {
      lastApps.map((app) => (
        <AppItem name={app.name} img={app.logo} description={app.description} url={"/apps/" + app.url} />
      ))
    }
  </div>

  <div class="border-solid mb-3 pb-3">
    <div class="font-medium text-gray-800 dark:text-gray-100 mb-4">Aplicaciones Destacadas</div>
    {
      featuredApps.map((app) => (
        <AppItem name={app.name} img={app.logo} description={app.description} url={"/apps/" + app.url} />
      ))
    }
  </div>
</div>
